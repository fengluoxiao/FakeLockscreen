# 假锁屏工具

一个功能丰富的Python假锁屏应用，提供全屏黑色遮罩和智能亮度控制。

## 功能特点

- ✅ **全屏黑色遮罩**：创建完全隐蔽的锁屏效果
- ✅ **智能亮度控制**：锁屏时自动降至最低，解锁时恢复原始亮度
- ✅ **完全禁用输入**：锁屏时禁用鼠标和键盘输入
- ✅ **系统托盘支持**：可最小化到系统托盘后台运行
- ✅ **双快捷键支持**：可设置个人专属的锁屏和解锁快捷键
- ✅ **自动管理员权限**：程序会自动请求所需权限
- ✅ **发布模式**：隐藏控制台窗口，适合日常使用

## 安装依赖

首先确保你已安装Python 3.7+，然后安装所需依赖：

```bash
pip install -r requirements.txt
```

## 运行程序

### 🚀 推荐方式（发布版本）

**双击运行批处理文件：**
- `run_lock_screen.bat` - 正常模式（无控制台窗口）
- `run_lock_screen_debug.bat` - 调试模式（显示详细信息）

### 📝 命令行方式

**正常模式（无控制台）：**
```bash
python fake_lock_screen.py
```

**调试模式：**
```bash
python fake_lock_screen.py --debug
```

## 调试功能

### 启用调试模式
调试模式只能通过命令行参数启用：
- **命令行启动**：`python fake_lock_screen.py --debug`
- **批处理启动**：双击 `run_lock_screen_debug.bat`

### 调试快捷键
在调试模式下可使用：
- **Ctrl+Shift+M** - 强制恢复鼠标指针（紧急情况下使用）

### 调试信息示例
```
🔒 开始锁定屏幕...
💾 动态获取并保存当前亮度...
✓ 已保存当前亮度: 75%
🔅 设置亮度为最低...
✓ 亮度已设置为: 0%
✅ 锁定完成
```

## 使用方法

1. **启动程序**：双击 `run_lock_screen.bat` 或运行Python脚本
2. **锁定屏幕**：点击"锁定屏幕"按钮或使用锁屏快捷键（默认：Ctrl+Alt+L）
3. **解锁屏幕**：使用设定的快捷键解锁（默认：Ctrl+Alt+U）
4. **设置快捷键**：点击"设置锁屏键"或"设置解锁键"可自定义快捷键
5. **托盘运行**：点击"最小化到托盘"在后台运行

## 默认快捷键

- **锁定屏幕**：`Ctrl+Alt+L`
- **解锁屏幕**：`Ctrl+Alt+U`
- **强制恢复鼠标**：`Ctrl+Shift+M`（调试模式下可用）

## 系统托盘功能

右键托盘图标可以：
- 显示主窗口
- 直接锁定屏幕
- 退出程序

## 文件说明

- `fake_lock_screen.py` - 主程序文件
- `run_lock_screen.bat` - 发布版本启动脚本（推荐）
- `run_lock_screen_debug.bat` - 调试版本启动脚本
- `requirements.txt` - 依赖包列表
- `lock_settings.json` - 设置文件（自动生成）

## 故障排除

**问题1：快捷键不响应**
- 解决：程序会自动请求管理员权限

**问题2：需要查看详细信息**
- 解决：使用调试模式或按 Ctrl+Shift+D

**问题3：亮度控制不工作**
- 解决：确保以管理员身份运行，检查WMI服务状态

## 系统要求

- Windows 10/11
- Python 3.7+
- 会自动请求管理员权限 